import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,d as a,o as n}from"./app-BoSEJaB0.js";const t={};function r(l,e){return n(),i("div",null,e[0]||(e[0]=[a(`<h2 id="how-to-install-repeater-in-centos" tabindex="-1"><a class="header-anchor" href="#how-to-install-repeater-in-centos"><span>How to install Repeater in CentOS</span></a></h2><h3 id="_01-download" tabindex="-1"><a class="header-anchor" href="#_01-download"><span>01.Download</span></a></h3><p>Download source code from <a href="https://github.com/qian-jiahong/uvncrep017-ws" target="_blank" rel="noopener noreferrer">https://github.com/qian-jiahong/uvncrep017-ws</a></p><h3 id="_02-decompress" tabindex="-1"><a class="header-anchor" href="#_02-decompress"><span>02.Decompress</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -xvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> uvncrep017-ws.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_03-compile-and-install" tabindex="-1"><a class="header-anchor" href="#_03-compile-and-install"><span>03.Compile and Install</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> uvncrep017-ws</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_04-add-a-user-for-ultravnc-repeater-service" tabindex="-1"><a class="header-anchor" href="#_04-add-a-user-for-ultravnc-repeater-service"><span>04.Add a user for UltraVNC Repeater Service</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">useradd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> uvncrep</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_05-start-the-repeater-service" tabindex="-1"><a class="header-anchor" href="#_05-start-the-repeater-service"><span>05.Start the repeater service</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Please config according to your needs before start.</span></span>
<span class="line highlighted"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Configuration file: /etc/uvnc/uvncrepeater.ini</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/etc/init.d/uvncrepeater</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Problems when start service</p><p>The service need a tool named <code>start-stop-daemon</code>, my centos is 8, and cannot install the tool from the default repo source.</p><p>Please install the tool from the source below.<br><a href="https://codeload.github.com/willgarcia/start-stop-daemon/tar.gz/refs/tags/v1.0.0" target="_blank" rel="noopener noreferrer">start-stop-daemon</a></p><p>A package named <a href="http://ftp.ubk.hu/src/debian/dpkg/dpkg_1.18.2.tar.xz" target="_blank" rel="noopener noreferrer"><code>dpkg_1.18.2.tar.xz</code></a> is needed during install <code>start-stop-daemon</code>, please <a href="http://ftp.ubk.hu/src/debian/dpkg/dpkg_1.18.2.tar.xz" target="_blank" rel="noopener noreferrer">download it from the link</a>.</p></div><h2 id="how-to-use" tabindex="-1"><a class="header-anchor" href="#how-to-use"><span>How to use</span></a></h2><h3 id="server-connect-to-repeater" tabindex="-1"><a class="header-anchor" href="#server-connect-to-repeater"><span>Server connect to repeater</span></a></h3><p>The approach below use a user(not system) to run the service, when the user&#39;s screen has been locked, which will lead to black screen, thus, it&#39;s better to use system account to run, in other words run as service.</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 命令行参数如下</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> number:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 被控制端编号（只能是数字，唯一，且至少三位，即最小是</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 100，最大是</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2147483647，源码中此为</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> int</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 类型）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ip:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> repeater</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 中继器服务器</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IP</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 中继器</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UltraVNC</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 监听端口</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">winvnc.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -autoreconnect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID:[id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> number]-connect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [repeater </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ip]:[server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> listen</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port]</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -run</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Example</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">winvnc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -autoreconnect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID:1001</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -connect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 101.43.21.21:5500</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -run</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>How to connect server via service<br><strong>Step 1:</strong> Open config file <code>ultravnc.ini</code>,<br><strong>Step 2:</strong> Add content line to <code>service_commandline=-autoreconnect ID:1001 -connect 101.43.21.21:5500</code><br><strong>Step 3:</strong> Restart the service.</li></ul><h3 id="viewer-connect-to-repeater" tabindex="-1"><a class="header-anchor" href="#viewer-connect-to-repeater"><span>Viewer connect to repeater</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 命令行参数如下</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> number:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 被控制端编号（只能是数字，唯一，且至少三位，即最小是</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 100，最大是</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2147483647，源码中此为</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> int</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 类型）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ip:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> repeater</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 中继器服务器</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IP</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 中继器</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UltraVNC</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Viewer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 监听端口</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vncviewer.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [repeater </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ip]:[viewer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> listen</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port]</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID:[id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> number]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 示例如下</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vncviewer.exe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -proxy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 101.43.21.21:5901</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID:10001</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="how-to-use-ultra-repeater-in-windows" tabindex="-1"><a class="header-anchor" href="#how-to-use-ultra-repeater-in-windows"><span>How to use ultra repeater in windows</span></a></h2><h3 id="_01-run-repeater-exe" tabindex="-1"><a class="header-anchor" href="#_01-run-repeater-exe"><span>01. Run <code>repeater.exe</code></span></a></h3><h3 id="_02-open-config-page" tabindex="-1"><a class="header-anchor" href="#_02-open-config-page"><span>02. Open config page</span></a></h3><pre><code>http://localhost
The default user and password: admin:adminadmi2
</code></pre><h3 id="_03-use-it-as-the-same-in-linux" tabindex="-1"><a class="header-anchor" href="#_03-use-it-as-the-same-in-linux"><span>03. Use it as the same in linux</span></a></h3><h2 id="other-related-project" tabindex="-1"><a class="header-anchor" href="#other-related-project"><span>Other related project</span></a></h2><p><a href="https://github.com/rustdesk/rustdesk" target="_blank" rel="noopener noreferrer">https://github.com/rustdesk/rustdesk</a><br><a href="https://guacamole.apache.org/" target="_blank" rel="noopener noreferrer">https://guacamole.apache.org/</a></p><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references"><span>References</span></a></h2><p><a href="https://blog.csdn.net/WTUDAN/article/details/100214799" target="_blank" rel="noopener noreferrer">远程桌面中转，基于 UltraVNC Repeater（中继器）的远程桌面服务搭建，用于复杂网络环境</a><br><a href="http://zj.lzycn.vip:8082/%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE-%E5%9F%BA%E4%BA%8E%20UltraVNC%20Repeater%EF%BC%88%E4%B8%AD%E7%BB%A7%E5%99%A8%EF%BC%89%E7%9A%84%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E6%9C%8D%E5%8A%A1%E6%90%AD%E5%BB%BA.pdf" target="_blank" rel="noopener noreferrer">远程桌面中转，基于 UltraVNC Repeater（中继器）的远程桌面服务搭建</a><br><a href="https://www.moyann.com/archives/209/" target="_blank" rel="noopener noreferrer">远程桌面中转，基于 UltraVNC Repeater（中继器）的远程桌面服务搭建</a></p>`,28)]))}const d=s(t,[["render",r],["__file","UltraVNC.html.vue"]]),o=JSON.parse(`{"path":"/techniques/Tools/others/UltraVNC.html","title":"UltraVNC","lang":"en-US","frontmatter":{"title":"UltraVNC","date":"2023-09-22T00:00:00.000Z","icon":"/assets/icon/techniques/vnc.svg","author":"Haiyue","category":["make"],"tag":["skills"],"star":false,"sticky":false,"description":"How to install Repeater in CentOS 01.Download Download source code from https://github.com/qian-jiahong/uvncrep017-ws 02.Decompress 03.Compile and Install 04.Add a user for Ultr...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://jet-w.github.io/techniques/Tools/others/UltraVNC.html"}],["meta",{"property":"og:site_name","content":"Haiyue's Blog"}],["meta",{"property":"og:title","content":"UltraVNC"}],["meta",{"property":"og:description","content":"How to install Repeater in CentOS 01.Download Download source code from https://github.com/qian-jiahong/uvncrep017-ws 02.Decompress 03.Compile and Install 04.Add a user for Ultr..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"article:author","content":"Haiyue"}],["meta",{"property":"article:tag","content":"skills"}],["meta",{"property":"article:published_time","content":"2023-09-22T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"UltraVNC\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-09-22T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Haiyue\\"}]}"]]},"headers":[{"level":2,"title":"How to install Repeater in CentOS","slug":"how-to-install-repeater-in-centos","link":"#how-to-install-repeater-in-centos","children":[{"level":3,"title":"01.Download","slug":"_01-download","link":"#_01-download","children":[]},{"level":3,"title":"02.Decompress","slug":"_02-decompress","link":"#_02-decompress","children":[]},{"level":3,"title":"03.Compile and Install","slug":"_03-compile-and-install","link":"#_03-compile-and-install","children":[]},{"level":3,"title":"04.Add a user for UltraVNC Repeater Service","slug":"_04-add-a-user-for-ultravnc-repeater-service","link":"#_04-add-a-user-for-ultravnc-repeater-service","children":[]},{"level":3,"title":"05.Start the repeater service","slug":"_05-start-the-repeater-service","link":"#_05-start-the-repeater-service","children":[]}]},{"level":2,"title":"How to use","slug":"how-to-use","link":"#how-to-use","children":[{"level":3,"title":"Server connect to repeater","slug":"server-connect-to-repeater","link":"#server-connect-to-repeater","children":[]},{"level":3,"title":"Viewer connect to repeater","slug":"viewer-connect-to-repeater","link":"#viewer-connect-to-repeater","children":[]}]},{"level":2,"title":"How to use ultra repeater in windows","slug":"how-to-use-ultra-repeater-in-windows","link":"#how-to-use-ultra-repeater-in-windows","children":[{"level":3,"title":"01. Run repeater.exe","slug":"_01-run-repeater-exe","link":"#_01-run-repeater-exe","children":[]},{"level":3,"title":"02. Open config page","slug":"_02-open-config-page","link":"#_02-open-config-page","children":[]},{"level":3,"title":"03. Use it as the same in linux","slug":"_03-use-it-as-the-same-in-linux","link":"#_03-use-it-as-the-same-in-linux","children":[]}]},{"level":2,"title":"Other related project","slug":"other-related-project","link":"#other-related-project","children":[]},{"level":2,"title":"References","slug":"references","link":"#references","children":[]}],"readingTime":{"minutes":1.97,"words":590},"filePathRelative":"techniques/Tools/others/UltraVNC.md","localizedDate":"September 22, 2023","excerpt":"<h2>How to install Repeater in CentOS</h2>\\n<h3>01.Download</h3>\\n<p>Download source code from <a href=\\"https://github.com/qian-jiahong/uvncrep017-ws\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/qian-jiahong/uvncrep017-ws</a></p>\\n<h3>02.Decompress</h3>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">tar</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -xvf</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> uvncrep017-ws.tar</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{d as comp,o as data};
